# Инструкция по использованию админки

## Структура проекта

Каждый проект имеет свою папку в директории `projects/`:
```
projects/
  project-1/
    photos/     - фотографии проекта
    drawings/   - чертежи проекта
    renders/    - рендеры проекта
```

## Как использовать админку

### 1. Открытие админки
- Откройте `admin.html` в браузере
- Или перейдите по ссылке "Админка" в правом нижнем углу главной страницы

### 2. Создание нового проекта
1. Нажмите кнопку "+ Новый проект"
2. Введите название проекта
3. Введите имя папки (латиница, без пробелов, например: `my-project`)
4. Нажмите "Создать"
5. Создайте папки вручную: `projects/my-project/photos`, `projects/my-project/drawings`, `projects/my-project/renders`

### 3. Загрузка изображений
**Важно:** В текущей версии загрузка файлов через браузер требует серверной части. 

**Вариант 1 (рекомендуется):**
- Скопируйте изображения в соответствующие папки проекта вручную
- Обновите `data/projects.json`, добавив пути к изображениям

**Вариант 2 (с сервером):**
- Настройте сервер для загрузки файлов
- Добавьте функционал загрузки в `scripts/admin.js`

### 4. Управление изображениями

#### Перемещение между папками (Drag and Drop)
- Перетащите изображение из одной сетки (Фото/Чертежи/Рендеры) в другую
- Изображение автоматически переместится в новую категорию

#### Изменение порядка
- Перетащите изображение внутри сетки для изменения порядка
- Порядок сохраняется в `carouselOrder` проекта

#### Удаление изображения
- Нажмите кнопку "×" на изображении
- Подтвердите удаление

### 5. Настройка превью для главной страницы
1. Выберите проект
2. В разделе "Информация о проекте" выберите изображение из списка "Превью для главной страницы"
3. Нажмите "Сохранить изменения"

### 6. Просмотр превью карусели
- Внизу редактора проекта отображается превью карусели сравнения
- Показывает порядок изображений в каждой категории (Чертежи, Фото, Рендеры)

### 7. Сохранение изменений
- Нажмите кнопку "Сохранить изменения"
- **Важно:** В текущей версии сохранение работает только в памяти браузера
- Для реального сохранения в файл нужен сервер с API для записи `data/projects.json`

## Структура данных проекта

```json
{
  "id": "project-1",
  "name": "Название проекта",
  "description": "Описание проекта",
  "folder": "project-1",
  "previewImage": "путь/к/превью.png",
  "photos": ["путь/к/фото1.jpg", "путь/к/фото2.jpg"],
  "drawings": ["путь/к/чертеж1.jpg"],
  "renders": ["путь/к/рендер1.jpg"],
  "carouselOrder": {
    "photos": [0, 1],
    "drawings": [0],
    "renders": [0]
  }
}
```

## Как добавить серверную часть для сохранения

1. Создайте API endpoint для сохранения `projects.json`
2. Обновите функцию `saveProject()` в `scripts/admin.js`
3. Добавьте обработку загрузки файлов на сервер

## Примечания

- Все изменения в админке сохраняются только в памяти браузера до перезагрузки страницы
- Для постоянного сохранения нужен сервер
- Изображения должны быть доступны по указанным путям
- Рекомендуется использовать относительные пути от корня сайта

